const _0x5904a3=_0xdede;(function(_0x3d8f7b,_0x5377b6){const _0x374cd1=_0xdede,_0x338a2d=_0x3d8f7b();while(!![]){try{const _0x196c04=parseInt(_0x374cd1(0xde))/0x1+-parseInt(_0x374cd1(0xb5))/0x2*(-parseInt(_0x374cd1(0x10e))/0x3)+-parseInt(_0x374cd1(0xcc))/0x4+-parseInt(_0x374cd1(0xf3))/0x5+parseInt(_0x374cd1(0xf9))/0x6+parseInt(_0x374cd1(0x9a))/0x7*(parseInt(_0x374cd1(0xff))/0x8)+-parseInt(_0x374cd1(0xd5))/0x9;if(_0x196c04===_0x5377b6)break;else _0x338a2d['push'](_0x338a2d['shift']());}catch(_0x342f52){_0x338a2d['push'](_0x338a2d['shift']());}}}(_0x28dd,0xe9dfd));let color='#c80000',brushSize=0x8,shapeMode='freehand',radian=0xc,canvas,ctx,previewCanvas,previewCtx,history=[],redoHistory=[],lastSaved=0x0,isDrawing=![],startX,startY,isEraserMode=![],guidesVisible=!![],curvePoints=[],isCurving=![],firstPointMarker=null,secondPointMarker=null,zoomFactor=0x1,canvasOffsetX=0x0,canvasOffsetY=0x0,isPanning=![],panStartX,panStartY,panMode=![],canvasContainer;const meta=document['createElement']('meta');meta['name']='viewport',meta[_0x5904a3(0x92)]=_0x5904a3(0xbf),document[_0x5904a3(0xd1)][_0x5904a3(0xa9)](meta),document[_0x5904a3(0xf7)][_0x5904a3(0xca)](_0x5904a3(0x9d),_0x34956d=>{const _0x47626a=_0x5904a3;if(_0x34956d['touches'][_0x47626a(0xe8)]>0x1)_0x34956d[_0x47626a(0xec)]();},{'passive':![]}),window['addEventListener'](_0x5904a3(0x103),initApp);function initApp(){const _0x409cfc=_0x5904a3;initCanvas(),initLucide(),initEventListeners(),initDrawingTools(),initBrushControls(),initColorPicker(),setShape(_0x409cfc(0x99)),initZoom(),resetCanvas();}function initCanvas(){const _0x34a1b6=_0x5904a3;canvas=document[_0x34a1b6(0x111)](_0x34a1b6(0x110)),ctx=canvas[_0x34a1b6(0xda)]('2d'),previewCanvas=document['getElementById'](_0x34a1b6(0x85)),previewCtx=previewCanvas[_0x34a1b6(0xda)]('2d'),[ctx,previewCtx]['forEach'](_0x16a2e0=>{const _0x4fa3fa=_0x34a1b6;_0x16a2e0['lineJoin']='round',_0x16a2e0[_0x4fa3fa(0xce)]=_0x4fa3fa(0xc7);});const _0x5c063d=Math[_0x34a1b6(0xae)](window['innerWidth'],window['innerHeight'])*0.9;canvas[_0x34a1b6(0xcf)]=_0x5c063d,canvas[_0x34a1b6(0xa0)]=_0x5c063d,previewCanvas[_0x34a1b6(0xcf)]=_0x5c063d,previewCanvas['height']=_0x5c063d,canvas[_0x34a1b6(0xb2)][_0x34a1b6(0x107)]=_0x34a1b6(0xb1),previewCanvas['style']['touchAction']=_0x34a1b6(0xb1);}function initLucide(){const _0x328fe4=_0x5904a3;if(window[_0x328fe4(0xf0)]?.[_0x328fe4(0xbc)])lucide[_0x328fe4(0xbc)]();}function initEventListeners(){const _0x50c5f7=_0x5904a3,_0x2c0cd4=[[_0x50c5f7(0x80),handleStart],[_0x50c5f7(0xe0),handleMove],[_0x50c5f7(0xad),handleEnd],[_0x50c5f7(0xc0),handleEnd],[_0x50c5f7(0x9d),handleStart,{'passive':![]}],[_0x50c5f7(0xe7),handleMove,{'passive':![]}],[_0x50c5f7(0xdc),handleEnd],[_0x50c5f7(0x90),handleEnd]];_0x2c0cd4[_0x50c5f7(0xbb)](([_0x11d674,_0x1b78c7,_0x1bdf0f])=>canvas[_0x50c5f7(0xca)](_0x11d674,_0x1b78c7,_0x1bdf0f));}function initDrawingTools(){const _0x4f681e=_0x5904a3;SmoothDraw[_0x4f681e(0xc6)](canvas,ctx),SmoothDraw[_0x4f681e(0x96)](color),SmoothDraw[_0x4f681e(0xfe)](brushSize),FloodFillTool[_0x4f681e(0xc6)](canvas,ctx,hexToRgba(color)),FloodFillTool['setColor'](hexToRgba(color));}function initBrushControls(){const _0x689be2=_0x5904a3,_0x35858b=document['getElementById'](_0x689be2(0x82)),_0x1dbd96=document[_0x689be2(0x111)](_0x689be2(0xe3)),_0x57e9ac=document[_0x689be2(0x111)](_0x689be2(0xc5));_0x35858b['value']=brushSize,updateBrushPreview(_0x1dbd96),_0x35858b[_0x689be2(0xca)](_0x689be2(0x9c),()=>{const _0x5cabe9=_0x689be2;brushSize=+_0x35858b['value'],SmoothDraw[_0x5cabe9(0xfe)](brushSize),updateBrushPreview(_0x1dbd96);}),_0x57e9ac[_0x689be2(0xca)]('click',()=>document[_0x689be2(0x111)](_0x689be2(0x105))[_0x689be2(0xa8)][_0x689be2(0x104)](_0x689be2(0x95)));}function updateBrushPreview(_0x55bccd){const _0xab0e75=_0x5904a3;_0x55bccd[_0xab0e75(0xb2)]['width']=brushSize+'px',_0x55bccd[_0xab0e75(0xb2)][_0xab0e75(0xa0)]=brushSize+'px',_0x55bccd[_0xab0e75(0xb2)]['backgroundColor']=color;}function initColorPicker(){const _0x156860=_0x5904a3,_0x45a63d=document['getElementById'](_0x156860(0xa3)),_0x5d7012=document[_0x156860(0x111)](_0x156860(0xc4));_0x45a63d['value']=color,_0x5d7012[_0x156860(0xb2)][_0x156860(0xd6)]=color,_0x45a63d['addEventListener'](_0x156860(0x9c),()=>{const _0x9ff896=_0x156860;color=_0x45a63d[_0x9ff896(0x10a)],_0x5d7012[_0x9ff896(0xb2)]['background']=color,document[_0x9ff896(0x111)](_0x9ff896(0xe3))[_0x9ff896(0xb2)][_0x9ff896(0xe2)]=color,SmoothDraw[_0x9ff896(0x96)](color),FloodFillTool[_0x9ff896(0x96)](hexToRgba(color));});}function getCoords(_0x3b0c7b){const _0x3f082c=_0x5904a3,_0x5df191=canvasContainer[_0x3f082c(0xee)]();let _0x2dc1ba,_0x32d87c;if(_0x3b0c7b['touches']){const _0x46f79e=_0x3b0c7b[_0x3f082c(0x94)][0x0]||_0x3b0c7b[_0x3f082c(0xe1)][0x0];_0x2dc1ba=_0x46f79e[_0x3f082c(0xb3)],_0x32d87c=_0x46f79e[_0x3f082c(0x10d)];}else _0x2dc1ba=_0x3b0c7b[_0x3f082c(0xb3)],_0x32d87c=_0x3b0c7b[_0x3f082c(0x10d)];const _0x5b0666=_0x2dc1ba-_0x5df191['left'],_0x17abcf=_0x32d87c-_0x5df191[_0x3f082c(0xc3)],_0x1c9899=(_0x5b0666-canvasOffsetX)/zoomFactor,_0x27add2=(_0x17abcf-canvasOffsetY)/zoomFactor,_0x2e1b94=canvas[_0x3f082c(0xcf)]/_0x5df191['width'],_0x2d0560=canvas[_0x3f082c(0xa0)]/_0x5df191['height'];return[_0x1c9899*_0x2e1b94,_0x27add2*_0x2d0560];}function handleStart(_0x10016b){const _0x2087d2=_0x5904a3;if(panMode)return;if(_0x10016b[_0x2087d2(0x8a)])_0x10016b['preventDefault']();if(_0x10016b['touches']&&_0x10016b[_0x2087d2(0x94)]['length']>0x1)return;const [_0x3df028,_0xfd7fe8]=getCoords(_0x10016b);if(shapeMode===_0x2087d2(0x115))handleCurveStart(_0x3df028,_0xfd7fe8);else{isDrawing=!![],[startX,startY]=[_0x3df028,_0xfd7fe8];if(shapeMode===_0x2087d2(0x99))saveState(!![]);}}function handleCurveStart(_0x362202,_0x150105){const _0x50024b=_0x5904a3;if(curvePoints[_0x50024b(0xe8)]===0x0)curvePoints[_0x50024b(0xb8)]([_0x362202,_0x150105]),firstPointMarker={'x':_0x362202,'y':_0x150105},drawFirstPointMarker(),isDrawing=!![];else{if(curvePoints[_0x50024b(0xe8)]===0x1)curvePoints[_0x50024b(0xb8)]([_0x362202,_0x150105]),secondPointMarker={'x':_0x362202,'y':_0x150105},isCurving=!![],previewCtx[_0x50024b(0xe6)](0x0,0x0,previewCanvas['width'],previewCanvas[_0x50024b(0xa0)]),drawPreviewShape(curvePoints[0x0][0x0],curvePoints[0x0][0x1],_0x362202,_0x150105,_0x50024b(0xf8));else isCurving&&(isDrawing=!![]);}}function handleMove(_0x4b4ca9){const _0xacf096=_0x5904a3;if(panMode)return;if(_0x4b4ca9[_0xacf096(0x94)]&&_0x4b4ca9[_0xacf096(0x94)][_0xacf096(0xe8)]>0x1)return;if(!(isDrawing||isCurving))return;if(_0x4b4ca9[_0xacf096(0x8a)])_0x4b4ca9['preventDefault']();const [_0x1ea3bd,_0x49b7d5]=getCoords(_0x4b4ca9);previewCtx[_0xacf096(0xe6)](0x0,0x0,previewCanvas[_0xacf096(0xcf)],previewCanvas[_0xacf096(0xa0)]),drawGuides();if(shapeMode===_0xacf096(0x115))drawPointMarkers(),isCurving&&curvePoints['length']===0x2&&drawPreviewCurve(curvePoints[0x0],curvePoints[0x1],[_0x1ea3bd,_0x49b7d5]);else shapeMode==='freehand'?SmoothDraw['move'](_0x4b4ca9):drawPreviewShape(startX,startY,_0x1ea3bd,_0x49b7d5,shapeMode);}function handleEnd(_0x23c91b){const _0xb1de7a=_0x5904a3;if(panMode)return;if(_0x23c91b['touches']&&_0x23c91b['touches']['length']>0x1)return;if(!isDrawing)return;isDrawing=![];if(_0x23c91b['cancelable'])_0x23c91b[_0xb1de7a(0xec)]();const [_0x56857b,_0x5c7953]=getCoords(_0x23c91b);previewCtx['clearRect'](0x0,0x0,previewCanvas['width'],previewCanvas[_0xb1de7a(0xa0)]),drawGuides();if(shapeMode==='curve'&&isCurving&&curvePoints[_0xb1de7a(0xe8)]===0x2)drawCurveShape(curvePoints[0x0],curvePoints[0x1],[_0x56857b,_0x5c7953]),resetCurveState(),saveState(!![]);else shapeMode!==_0xb1de7a(0x115)&&(shapeMode===_0xb1de7a(0x99)?SmoothDraw[_0xb1de7a(0x81)](_0x23c91b):(drawShape(startX,startY,_0x56857b,_0x5c7953,shapeMode),saveState(!![])));}function _0xdede(_0x25faf9,_0xdf53b5){const _0x28dda4=_0x28dd();return _0xdede=function(_0xdede66,_0x236c8c){_0xdede66=_0xdede66-0x7d;let _0x2a99cb=_0x28dda4[_0xdede66];return _0x2a99cb;},_0xdede(_0x25faf9,_0xdf53b5);}function resetCurveState(){curvePoints=[],isCurving=![],firstPointMarker=null,secondPointMarker=null;}function drawShape(_0x111823,_0x1264cb,_0x315b60,_0x1d529f,_0x235e63){drawWithSymmetry(ctx,_0x235e63,(_0x51c85d,_0x765295,_0x1e3d3a,_0x1fb724,_0x45f7b7)=>{const _0x516a51=_0xdede;if(_0x235e63===_0x516a51(0xf8))_0x51c85d[_0x516a51(0xc2)](),_0x51c85d[_0x516a51(0x116)](_0x765295,_0x1e3d3a),_0x51c85d['lineTo'](_0x1fb724,_0x45f7b7),_0x51c85d[_0x516a51(0xed)]();else{if(_0x235e63===_0x516a51(0x98)){const _0x380142=Math[_0x516a51(0x83)](_0x1fb724-_0x765295,_0x45f7b7-_0x1e3d3a);_0x51c85d[_0x516a51(0xc2)](),_0x51c85d[_0x516a51(0xa4)](_0x765295,_0x1e3d3a,_0x380142,0x0,Math['PI']*0x2),_0x51c85d[_0x516a51(0xed)]();}}},_0x111823,_0x1264cb,_0x315b60,_0x1d529f);}function drawPreviewShape(_0x9b1997,_0x5d1c76,_0x587a2b,_0xbb33,_0x1c9878){drawWithSymmetry(previewCtx,_0x1c9878,(_0x47c7b2,_0x4fffc0,_0x12ec92,_0x4805b7,_0x5b867d)=>{const _0x37c36e=_0xdede;if(_0x1c9878==='line')_0x47c7b2['beginPath'](),_0x47c7b2[_0x37c36e(0x116)](_0x4fffc0,_0x12ec92),_0x47c7b2[_0x37c36e(0xf5)](_0x4805b7,_0x5b867d),_0x47c7b2[_0x37c36e(0xed)]();else{if(_0x1c9878===_0x37c36e(0x98)){const _0x17594a=Math['hypot'](_0x4805b7-_0x4fffc0,_0x5b867d-_0x12ec92);_0x47c7b2['beginPath'](),_0x47c7b2[_0x37c36e(0xa4)](_0x4fffc0,_0x12ec92,_0x17594a,0x0,Math['PI']*0x2),_0x47c7b2[_0x37c36e(0xed)]();}}},_0x9b1997,_0x5d1c76,_0x587a2b,_0xbb33);}function drawWithSymmetry(_0x21d991,_0x2b303d,_0x4b7976,_0x47f27e,_0x18ffec,_0x4c067f,_0x590655){const _0x1fa296=_0x5904a3,_0x5806ff=canvas[_0x1fa296(0xcf)]/0x2,_0x474160=canvas[_0x1fa296(0xa0)]/0x2,_0x3087cf=Math['PI']*0x2/radian;_0x21d991[_0x1fa296(0x101)]=color,_0x21d991[_0x1fa296(0xb7)]=brushSize,_0x21d991[_0x1fa296(0xce)]='round',_0x21d991[_0x1fa296(0x112)]=_0x1fa296(0xc7);for(let _0x34d8ed=0x0;_0x34d8ed<radian;_0x34d8ed++){const _0x4803d0=_0x34d8ed*_0x3087cf,[_0x37a444,_0x3cbdd5]=rotatePoint(_0x47f27e,_0x18ffec,_0x5806ff,_0x474160,_0x4803d0),[_0x42ac47,_0x749b7a]=rotatePoint(_0x4c067f,_0x590655,_0x5806ff,_0x474160,_0x4803d0);_0x4b7976(_0x21d991,_0x37a444,_0x3cbdd5,_0x42ac47,_0x749b7a);}}const SmoothDraw=((()=>{const _0x5064d1=_0x5904a3;let _0x249fa8,_0x3a112c,_0x9edf2=_0x5064d1(0xd4),_0x2494c8=0x8,_0x1e20f0=[];return{'init'(_0x41b5e6,_0x48340e){[_0x249fa8,_0x3a112c]=[_0x41b5e6,_0x48340e];},'setColor'(_0x4ed82d){_0x9edf2=_0x4ed82d;},'setBrushSize'(_0x515522){_0x2494c8=_0x515522;},'start'(_0x2e7994){const _0x209ca7=_0x5064d1;if(shapeMode!==_0x209ca7(0x99))return;_0x2e7994[_0x209ca7(0xec)](),_0x1e20f0=[getCoords(_0x2e7994)],saveState(!![]);},'move'(_0xda20d9){const _0x5380f2=_0x5064d1;if(shapeMode!=='freehand')return;_0xda20d9[_0x5380f2(0xec)](),_0x1e20f0['push'](getCoords(_0xda20d9));if(_0x1e20f0[_0x5380f2(0xe8)]>=0x3){const _0x2f58d5=_0x4764bd(_0x1e20f0[0x0],_0x1e20f0[0x1]),_0x2697a1=_0x4764bd(_0x1e20f0[0x1],_0x1e20f0[0x2]);_0x5347e1(_0x2f58d5,_0x2697a1,_0x1e20f0[0x1]),_0x1e20f0[_0x5380f2(0x7d)]();}},'end'(_0x155908){const _0x1bf711=_0x5064d1;if(shapeMode==='freehand'&&_0x1e20f0[_0x1bf711(0xe8)]>0x1){const _0x281847=_0x1e20f0[_0x1e20f0[_0x1bf711(0xe8)]-0x1];_0x5347e1(_0x1e20f0[0x0],_0x281847,_0x1e20f0[0x1]||_0x1e20f0[0x0]);}_0x1e20f0=[];}};function _0x5347e1(_0xd4c105,_0x43bcf7,_0x1f6070){const _0x3dfc30=_0x5064d1,_0x5f5457=getSymmetryPoints(_0xd4c105[0x0],_0xd4c105[0x1]),_0x4e77d7=getSymmetryPoints(_0x1f6070[0x0],_0x1f6070[0x1]),_0x100cb=getSymmetryPoints(_0x43bcf7[0x0],_0x43bcf7[0x1]);_0x3a112c['strokeStyle']=_0x9edf2,_0x3a112c[_0x3dfc30(0xb7)]=_0x2494c8,_0x3a112c[_0x3dfc30(0xce)]=_0x3dfc30(0xc7),_0x3a112c[_0x3dfc30(0x112)]=_0x3dfc30(0xc7);for(let _0x19c3b9=0x0;_0x19c3b9<_0x5f5457[_0x3dfc30(0xe8)];_0x19c3b9++){_0x3a112c[_0x3dfc30(0xc2)](),_0x3a112c[_0x3dfc30(0x116)](..._0x5f5457[_0x19c3b9]),_0x3a112c['quadraticCurveTo'](..._0x4e77d7[_0x19c3b9],..._0x100cb[_0x19c3b9]),_0x3a112c[_0x3dfc30(0xed)]();}}function _0x4764bd(_0x1ebfb7,_0x351bfe){return[(_0x1ebfb7[0x0]+_0x351bfe[0x0])/0x2,(_0x1ebfb7[0x1]+_0x351bfe[0x1])/0x2];}})());function drawPreviewCurve(_0x2293a0,_0x3cbea9,_0x52da58){drawCurve(previewCtx,_0x2293a0,_0x3cbea9,_0x52da58);}function drawCurveShape(_0x4870ce,_0x4a2b76,_0x27f163){drawCurve(ctx,_0x4870ce,_0x4a2b76,_0x27f163);}function drawCurve(_0x3e8e21,_0x11e08d,_0x1f5671,_0x43b146){const _0x5e24a2=_0x5904a3,_0x14f54c=canvas[_0x5e24a2(0xcf)]/0x2,_0x564f5d=canvas[_0x5e24a2(0xa0)]/0x2,_0x42b770=Math['PI']*0x2/radian;_0x3e8e21[_0x5e24a2(0x101)]=color,_0x3e8e21['lineWidth']=brushSize,_0x3e8e21[_0x5e24a2(0xce)]=_0x5e24a2(0xc7),_0x3e8e21[_0x5e24a2(0x112)]=_0x5e24a2(0xc7);for(let _0x1468c1=0x0;_0x1468c1<radian;_0x1468c1++){const _0x41a522=_0x1468c1*_0x42b770,[_0x554a5a,_0x19230a]=rotatePoint(..._0x11e08d,_0x14f54c,_0x564f5d,_0x41a522),[_0x4a3760,_0x1842f0]=rotatePoint(..._0x1f5671,_0x14f54c,_0x564f5d,_0x41a522),[_0x137e8f,_0x3aecc8]=rotatePoint(..._0x43b146,_0x14f54c,_0x564f5d,_0x41a522);_0x3e8e21[_0x5e24a2(0xc2)](),_0x3e8e21['moveTo'](_0x554a5a,_0x19230a),_0x3e8e21[_0x5e24a2(0xfd)](_0x137e8f,_0x3aecc8,_0x4a3760,_0x1842f0),_0x3e8e21[_0x5e24a2(0xed)]();}}function drawPointMarkers(){drawFirstPointMarker(),drawSecondPointMarker();}function drawFirstPointMarker(){drawMarker(firstPointMarker);}function drawSecondPointMarker(){drawMarker(secondPointMarker);}function drawMarker(_0x5bb028){const _0x26ea09=_0x5904a3;if(!_0x5bb028)return;const {x:_0x3c1e5e,y:_0x1db60a}=_0x5bb028,_0x214b6b=canvas[_0x26ea09(0xcf)]/0x2,_0x624f28=canvas['height']/0x2,_0x318b05=Math['PI']*0x2/radian;previewCtx['fillStyle']=_0x26ea09(0xe4);for(let _0x4cffe4=0x0;_0x4cffe4<radian;_0x4cffe4++){const _0x4e0d28=_0x4cffe4*_0x318b05,[_0x2eb6ae,_0x487b4]=rotatePoint(_0x3c1e5e,_0x1db60a,_0x214b6b,_0x624f28,_0x4e0d28);previewCtx[_0x26ea09(0xc2)](),previewCtx[_0x26ea09(0xa4)](_0x2eb6ae,_0x487b4,0x5,0x0,Math['PI']*0x2),previewCtx[_0x26ea09(0x7f)]();}}const FloodFillTool=((()=>{let _0x42a519,_0x1029ce,_0x5e6d14=[0xff,0x0,0x0,0xff];const _0x126793=0x20;return{'init'(_0x2bf671,_0x453579,_0x3c16fc){const _0x2acecf=_0xdede;[_0x42a519,_0x1029ce]=[_0x2bf671,_0x453579],_0x5e6d14=_0x3c16fc,_0x42a519[_0x2acecf(0xca)](_0x2acecf(0xc9),_0x21bf90),_0x42a519[_0x2acecf(0xca)](_0x2acecf(0x9d),_0x16704c=>{const _0x52e6b5=_0x2acecf;_0x16704c[_0x52e6b5(0xec)](),_0x21bf90(_0x16704c[_0x52e6b5(0x94)][0x0]);},{'passive':![]});},'setColor'(_0x28bca9){_0x5e6d14=_0x28bca9;}};function _0x21bf90(_0xc6704d){const _0x37429c=_0xdede;if(panMode||shapeMode!==_0x37429c(0x7f))return;_0x328fa7(!![]),setTimeout(()=>{const _0x36ff81=_0x37429c,_0x3cfb33=_0x42a519[_0x36ff81(0xee)](),_0x2a6f5f=_0x42a519[_0x36ff81(0xcf)]/_0x3cfb33[_0x36ff81(0xcf)],_0x15a059=_0x42a519[_0x36ff81(0xa0)]/_0x3cfb33['height'];let _0x47d5cb,_0x3b7aac;_0xc6704d['touches']?(_0x47d5cb=_0xc6704d[_0x36ff81(0x94)][0x0][_0x36ff81(0xb3)],_0x3b7aac=_0xc6704d[_0x36ff81(0x94)][0x0][_0x36ff81(0x10d)]):(_0x47d5cb=_0xc6704d[_0x36ff81(0xb3)],_0x3b7aac=_0xc6704d[_0x36ff81(0x10d)]);const _0x433d11=(_0x47d5cb-_0x3cfb33['left'])*_0x2a6f5f,_0x1c1618=(_0x3b7aac-_0x3cfb33[_0x36ff81(0xc3)])*_0x15a059,_0x169370=_0x42a519[_0x36ff81(0xcf)]/0x2,_0x2dfa95=_0x42a519[_0x36ff81(0xa0)]/0x2,_0x11bcaa=Math['PI']*0x2/radian,_0x50c47c=document[_0x36ff81(0x108)](_0x36ff81(0x87));_0x50c47c[_0x36ff81(0xcf)]=_0x42a519['width'],_0x50c47c[_0x36ff81(0xa0)]=_0x42a519[_0x36ff81(0xa0)];const _0x32c412=_0x50c47c[_0x36ff81(0xda)]('2d');_0x32c412[_0x36ff81(0x8b)](_0x42a519,0x0,0x0);const _0x565014=_0x32c412[_0x36ff81(0xcb)](0x0,0x0,_0x42a519[_0x36ff81(0xcf)],_0x42a519[_0x36ff81(0xa0)]);for(let _0x568c6a=0x0;_0x568c6a<radian;_0x568c6a++){const _0x47afb0=_0x568c6a*_0x11bcaa,[_0x2cb821,_0x397e02]=rotatePoint(_0x433d11,_0x1c1618,_0x169370,_0x2dfa95,_0x47afb0),_0xfa99f4=Math['round'](_0x2cb821),_0x1c5676=Math['round'](_0x397e02),_0x4800cd=_0x445733(_0x565014,_0xfa99f4,_0x1c5676);_0x152a67(_0x565014,_0xfa99f4,_0x1c5676,_0x4800cd);}_0x32c412[_0x36ff81(0x102)](_0x565014,0x0,0x0),_0x1029ce[_0x36ff81(0x8b)](_0x50c47c,0x0,0x0),saveState(!![]),_0x328fa7(![]);},0x32);}function _0x328fa7(_0x1da555){const _0x19b599=_0xdede,_0x400a4f=document['getElementById'](_0x19b599(0x9e));if(!_0x400a4f)return;_0x400a4f[_0x19b599(0xa8)][_0x19b599(0x104)](_0x19b599(0xab),_0x1da555);}function _0x152a67(_0x2ee39c,_0xd41e70,_0xcf0413,_0x112553){const _0x130698=[[_0xd41e70,_0xcf0413]],{width:_0x2a3397,height:_0x33ca32,data:_0x132bfc}=_0x2ee39c,_0x1fa65b=new Uint8Array(_0x2a3397*_0x33ca32);while(_0x130698['length']){const [_0x276482,_0x131eed]=_0x130698['pop']();if(_0x276482<0x0||_0x131eed<0x0||_0x276482>=_0x2a3397||_0x131eed>=_0x33ca32)continue;const _0xee6371=_0x131eed*_0x2a3397+_0x276482;if(_0x1fa65b[_0xee6371])continue;_0x1fa65b[_0xee6371]=0x1;if(!_0x341c80(_0x445733(_0x2ee39c,_0x276482,_0x131eed),_0x112553))continue;_0x1a6111(_0x2ee39c,_0x276482,_0x131eed),_0x130698['push']([_0x276482+0x1,_0x131eed],[_0x276482-0x1,_0x131eed],[_0x276482,_0x131eed+0x1],[_0x276482,_0x131eed-0x1]);}}function _0x445733(_0x361acd,_0x11f2c2,_0x4ba85b){const _0x396722=_0xdede,_0x45848c=Math['floor'](_0x11f2c2),_0x142cf9=Math[_0x396722(0xba)](_0x4ba85b);if(_0x45848c<0x0||_0x142cf9<0x0||_0x45848c>=_0x361acd[_0x396722(0xcf)]||_0x142cf9>=_0x361acd['height'])return[0x0,0x0,0x0,0x0];const _0x31c0ee=(_0x142cf9*_0x361acd['width']+_0x45848c)*0x4,_0xb2d28d=_0x361acd['data'];return[_0xb2d28d[_0x31c0ee],_0xb2d28d[_0x31c0ee+0x1],_0xb2d28d[_0x31c0ee+0x2],_0xb2d28d[_0x31c0ee+0x3]];}function _0x1a6111(_0x90263d,_0x29250f,_0x457266){const _0x3075dd=_0xdede,_0x3200fa=Math[_0x3075dd(0xba)](_0x29250f),_0x2e76b9=Math[_0x3075dd(0xba)](_0x457266);if(_0x3200fa<0x0||_0x2e76b9<0x0||_0x3200fa>=_0x90263d[_0x3075dd(0xcf)]||_0x2e76b9>=_0x90263d[_0x3075dd(0xa0)])return;const _0x234267=(_0x2e76b9*_0x90263d[_0x3075dd(0xcf)]+_0x3200fa)*0x4;_0x90263d[_0x3075dd(0xac)][_0x234267]=_0x5e6d14[0x0],_0x90263d[_0x3075dd(0xac)][_0x234267+0x1]=_0x5e6d14[0x1],_0x90263d[_0x3075dd(0xac)][_0x234267+0x2]=_0x5e6d14[0x2],_0x90263d[_0x3075dd(0xac)][_0x234267+0x3]=_0x5e6d14[0x3];}function _0x341c80(_0x1951e4,_0x3f876f){const _0x22a525=_0xdede;return Math[_0x22a525(0x10b)](_0x1951e4[0x0]-_0x3f876f[0x0])<=_0x126793&&Math[_0x22a525(0x10b)](_0x1951e4[0x1]-_0x3f876f[0x1])<=_0x126793&&Math[_0x22a525(0x10b)](_0x1951e4[0x2]-_0x3f876f[0x2])<=_0x126793&&Math[_0x22a525(0x10b)](_0x1951e4[0x3]-_0x3f876f[0x3])<=_0x126793;}})());function getSymmetryPoints(_0x518340,_0x372d0a){const _0x15f0e3=_0x5904a3,_0x23f79e=canvas[_0x15f0e3(0xcf)]/0x2,_0x8d9c68=canvas[_0x15f0e3(0xa0)]/0x2,_0x3dacda=_0x518340-_0x23f79e,_0x333cd7=_0x8d9c68-_0x372d0a,_0x453864=Math[_0x15f0e3(0x83)](_0x3dacda,_0x333cd7),_0x3e7a5b=Math['atan2'](_0x3dacda,_0x333cd7),_0x183dd6=[];for(let _0x212753=0x0;_0x212753<radian;_0x212753++){const _0x1b8750=_0x3e7a5b+Math['PI']*0x2/radian*_0x212753;_0x183dd6[_0x15f0e3(0xb8)]([_0x23f79e+Math[_0x15f0e3(0xa5)](_0x1b8750)*_0x453864,_0x8d9c68-Math[_0x15f0e3(0xb0)](_0x1b8750)*_0x453864]),_0x183dd6[_0x15f0e3(0xb8)]([_0x23f79e-Math['sin'](_0x1b8750)*_0x453864,_0x8d9c68-Math[_0x15f0e3(0xb0)](_0x1b8750)*_0x453864]);}return _0x183dd6;}function rotatePoint(_0x35ab39,_0x369188,_0xe3d4ac,_0x1207ba,_0xe94b2d){const _0x2b7466=_0x5904a3,_0x58036f=_0x35ab39-_0xe3d4ac,_0x407028=_0x369188-_0x1207ba;return[_0xe3d4ac+_0x58036f*Math['cos'](_0xe94b2d)-_0x407028*Math[_0x2b7466(0xa5)](_0xe94b2d),_0x1207ba+_0x58036f*Math[_0x2b7466(0xa5)](_0xe94b2d)+_0x407028*Math['cos'](_0xe94b2d)];}function hexToRgba(_0x32313a){const _0xb65dd5=_0x5904a3;return[parseInt(_0x32313a[_0xb65dd5(0xb6)](0x1,0x2),0x10),parseInt(_0x32313a['substr'](0x3,0x2),0x10),parseInt(_0x32313a[_0xb65dd5(0xb6)](0x5,0x2),0x10),0xff];}function setShape(_0xf51cef){const _0x388e0d=_0x5904a3;shapeMode=_0xf51cef,isEraserMode=![],resetCurveState(),isDrawing=![],panMode=![],document[_0x388e0d(0x111)](_0x388e0d(0xdb))[_0x388e0d(0xa8)][_0x388e0d(0xaa)]('active'),document[_0x388e0d(0xdf)](_0x388e0d(0x109))[_0x388e0d(0xbb)](_0x48ff87=>_0x48ff87[_0x388e0d(0xa8)][_0x388e0d(0xaa)](_0x388e0d(0x95)));const _0x31519e=document['getElementById'](_0x388e0d(0xf4)+_0xf51cef);if(_0x31519e)_0x31519e[_0x388e0d(0xa8)][_0x388e0d(0xd7)](_0x388e0d(0x95));updateBrushColor(color);}function saveState(_0x707315=![]){const _0x8d725b=_0x5904a3,_0xf6c524=Date['now']();if(_0x707315||_0xf6c524-lastSaved>0x32){history[_0x8d725b(0xb8)](canvas[_0x8d725b(0x113)]()),redoHistory=[];if(history[_0x8d725b(0xe8)]>0x32)history[_0x8d725b(0x7d)]();lastSaved=_0xf6c524;}}function activateEraser(){const _0x318f9f=_0x5904a3;setShape('freehand'),isEraserMode=!![],updateBrushColor(_0x318f9f(0x114)),document['getElementById'](_0x318f9f(0xd2))[_0x318f9f(0xa8)]['add']('active'),panMode=![],document[_0x318f9f(0x111)](_0x318f9f(0xdb))[_0x318f9f(0xa8)][_0x318f9f(0xaa)](_0x318f9f(0x95));}function updateBrushColor(_0x24681b){const _0x2b2560=_0x5904a3;if(!isEraserMode)color=_0x24681b;SmoothDraw['setColor'](_0x24681b),FloodFillTool['setColor'](hexToRgba(_0x24681b)),document[_0x2b2560(0x111)]('colorPicker')[_0x2b2560(0x10a)]=_0x24681b,document[_0x2b2560(0x111)](_0x2b2560(0xc4))[_0x2b2560(0xb2)]['backgroundColor']=_0x24681b,document[_0x2b2560(0x111)](_0x2b2560(0xe3))[_0x2b2560(0xb2)][_0x2b2560(0xe2)]=_0x24681b;}function undo(){const _0x39d3e4=_0x5904a3;if(history['length']<0x1)return;const _0x3873c6=history['pop']();redoHistory['push'](_0x3873c6);const _0x21157d=new Image();_0x21157d[_0x39d3e4(0x89)]=()=>{const _0x5b4bf7=_0x39d3e4;ctx[_0x5b4bf7(0xe6)](0x0,0x0,canvas[_0x5b4bf7(0xcf)],canvas['height']),ctx[_0x5b4bf7(0x8b)](_0x21157d,0x0,0x0);},_0x21157d['src']=history[_0x39d3e4(0xe8)]?history[history[_0x39d3e4(0xe8)]-0x1]:'';}function redo(){const _0x3c2d03=_0x5904a3;if(redoHistory[_0x3c2d03(0xe8)]===0x0)return;const _0x21f625=redoHistory[_0x3c2d03(0xaf)]();history[_0x3c2d03(0xb8)](_0x21f625);const _0x2d08b9=new Image();_0x2d08b9[_0x3c2d03(0x89)]=()=>{const _0x3a9f3f=_0x3c2d03;ctx[_0x3a9f3f(0xe6)](0x0,0x0,canvas[_0x3a9f3f(0xcf)],canvas[_0x3a9f3f(0xa0)]),ctx[_0x3a9f3f(0x8b)](_0x2d08b9,0x0,0x0);},_0x2d08b9[_0x3c2d03(0xa1)]=_0x21f625;}function resetCanvas(){const _0x203a94=_0x5904a3;ctx['clearRect'](0x0,0x0,canvas[_0x203a94(0xcf)],canvas[_0x203a94(0xa0)]),previewCtx[_0x203a94(0xe6)](0x0,0x0,previewCanvas[_0x203a94(0xcf)],previewCanvas[_0x203a94(0xa0)]),drawGuides(),history=[],redoHistory=[],saveState(!![]);}function downloadCanvas(){const _0x1277da=_0x5904a3,_0x213404=document[_0x1277da(0x111)]('drawCanvas'),_0x503804=document['createElement'](_0x1277da(0x87)),_0x5dc5ae=0xbb8,_0x34f137=0x10,_0x1c15d1=0x78;_0x503804['width']=_0x5dc5ae,_0x503804[_0x1277da(0xa0)]=_0x5dc5ae+_0x1c15d1;const _0x254db5=_0x503804[_0x1277da(0xda)]('2d');_0x254db5[_0x1277da(0x8d)]=_0x1277da(0x91),_0x254db5['fillRect'](0x0,0x0,_0x503804['width'],_0x503804[_0x1277da(0xa0)]);const _0x24ad86=_0x5dc5ae-_0x34f137*0x2;_0x254db5[_0x1277da(0x8b)](_0x213404,_0x34f137,_0x34f137,_0x24ad86,_0x24ad86),_0x254db5['lineWidth']=_0x34f137,_0x254db5['strokeStyle']=_0x1277da(0x8c),_0x254db5[_0x1277da(0x8e)](_0x34f137,_0x34f137,_0x24ad86,_0x24ad86),_0x254db5[_0x1277da(0x8d)]=_0x1277da(0xe4),_0x254db5[_0x1277da(0x11a)]=_0x1277da(0xcd),_0x254db5[_0x1277da(0xfb)]=_0x1277da(0x9b),_0x254db5[_0x1277da(0x10c)]=_0x1277da(0xc3),_0x254db5[_0x1277da(0xeb)](_0x1277da(0x9f),_0x503804[_0x1277da(0xcf)]/0x2,_0x5dc5ae+0xa);const _0x40d565=document[_0x1277da(0x111)]('link');_0x40d565[_0x1277da(0xd0)]=_0x503804[_0x1277da(0x113)](_0x1277da(0xc8)),_0x40d565[_0x1277da(0xb4)]='mandala-square.png',_0x40d565['click']();}function toggleGuides(){const _0x2427aa=_0x5904a3;guidesVisible=!guidesVisible,drawGuides(),document['getElementById'](_0x2427aa(0x10f))['classList'][_0x2427aa(0x104)]('active',guidesVisible);}function drawGuides(){const _0x3f55c4=_0x5904a3;if(!guidesVisible){previewCtx[_0x3f55c4(0xe6)](0x0,0x0,previewCanvas[_0x3f55c4(0xcf)],previewCanvas[_0x3f55c4(0xa0)]);return;}const _0x3b769f=previewCanvas['width'],_0x39bb2a=previewCanvas[_0x3f55c4(0xa0)],_0x3e2c34=_0x3b769f/0x2,_0x5b5d9c=_0x39bb2a/0x2,_0x2e4995=Math[_0x3f55c4(0xae)](_0x3b769f,_0x39bb2a)*0.48;previewCtx[_0x3f55c4(0xe6)](0x0,0x0,_0x3b769f,_0x39bb2a),previewCtx[_0x3f55c4(0x101)]='#aaa',previewCtx[_0x3f55c4(0xb7)]=0x1,previewCtx['beginPath'](),previewCtx[_0x3f55c4(0x116)](_0x3e2c34,0x0),previewCtx[_0x3f55c4(0xf5)](_0x3e2c34,_0x39bb2a),previewCtx[_0x3f55c4(0x116)](0x0,_0x5b5d9c),previewCtx[_0x3f55c4(0xf5)](_0x3b769f,_0x5b5d9c),previewCtx[_0x3f55c4(0xed)]();const _0x4bc28a=[0x1e,0x3c];previewCtx[_0x3f55c4(0x118)](),previewCtx[_0x3f55c4(0x8f)](_0x3e2c34,_0x5b5d9c),previewCtx[_0x3f55c4(0x101)]=_0x3f55c4(0x88),previewCtx[_0x3f55c4(0xb7)]=0x1,_0x4bc28a[_0x3f55c4(0xbb)](_0x15f854=>{const _0x34dff4=_0x3f55c4,_0x2872f1=_0x15f854*Math['PI']/0xb4,_0x3cc670=Math[_0x34dff4(0xb9)](_0x3b769f,_0x39bb2a);previewCtx[_0x34dff4(0xc2)](),previewCtx[_0x34dff4(0x116)](-_0x3cc670*Math['cos'](_0x2872f1),-_0x3cc670*Math[_0x34dff4(0xa5)](_0x2872f1)),previewCtx[_0x34dff4(0xf5)](_0x3cc670*Math[_0x34dff4(0xb0)](_0x2872f1),_0x3cc670*Math[_0x34dff4(0xa5)](_0x2872f1)),previewCtx[_0x34dff4(0xed)](),previewCtx[_0x34dff4(0xc2)](),previewCtx[_0x34dff4(0x116)](-_0x3cc670*Math['cos'](-_0x2872f1),-_0x3cc670*Math[_0x34dff4(0xa5)](-_0x2872f1)),previewCtx[_0x34dff4(0xf5)](_0x3cc670*Math[_0x34dff4(0xb0)](-_0x2872f1),_0x3cc670*Math[_0x34dff4(0xa5)](-_0x2872f1)),previewCtx[_0x34dff4(0xed)]();}),previewCtx[_0x3f55c4(0x117)](),previewCtx[_0x3f55c4(0x84)]([0x5,0x5]),previewCtx[_0x3f55c4(0xc2)](),previewCtx['arc'](_0x3e2c34,_0x5b5d9c,_0x2e4995,0x0,Math['PI']*0x2),previewCtx[_0x3f55c4(0xed)](),previewCtx[_0x3f55c4(0x84)]([]);}document[_0x5904a3(0x111)](_0x5904a3(0xf2))[_0x5904a3(0xca)](_0x5904a3(0xc9),()=>{const _0x4bdb78=_0x5904a3,_0x2e460f=document['getElementById'](_0x4bdb78(0xbe)),_0x3c368f=_0x2e460f[_0x4bdb78(0xa8)]['toggle'](_0x4bdb78(0xf1));document[_0x4bdb78(0x111)](_0x4bdb78(0xf2))['innerHTML']=_0x3c368f?_0x4bdb78(0xc1):_0x4bdb78(0xe5),window[_0x4bdb78(0xf0)]?.['createIcons']();});function initZoom(){const _0x1b6fa2=_0x5904a3;canvasContainer=document[_0x1b6fa2(0x108)](_0x1b6fa2(0xfa)),canvasContainer['id']=_0x1b6fa2(0x7e),canvasContainer[_0x1b6fa2(0xb2)][_0x1b6fa2(0x100)]=_0x1b6fa2(0xfc),canvasContainer[_0x1b6fa2(0xb2)]['overflow']=_0x1b6fa2(0xf6),canvasContainer[_0x1b6fa2(0xb2)][_0x1b6fa2(0xcf)]=_0x1b6fa2(0xdd),canvasContainer[_0x1b6fa2(0xb2)][_0x1b6fa2(0xa0)]=_0x1b6fa2(0xdd),canvasContainer[_0x1b6fa2(0xb2)]['touchAction']=_0x1b6fa2(0xb1);const _0x43da0c=canvas[_0x1b6fa2(0x97)];_0x43da0c[_0x1b6fa2(0x106)](canvasContainer,canvas),canvasContainer[_0x1b6fa2(0xa9)](canvas),canvasContainer[_0x1b6fa2(0xa9)](previewCanvas),canvas[_0x1b6fa2(0xb2)][_0x1b6fa2(0x100)]='absolute',canvas['style'][_0x1b6fa2(0xd9)]='0',canvas['style'][_0x1b6fa2(0xc3)]='0',previewCanvas[_0x1b6fa2(0xb2)][_0x1b6fa2(0x100)]=_0x1b6fa2(0xa7),previewCanvas['style'][_0x1b6fa2(0xd9)]='0',previewCanvas[_0x1b6fa2(0xb2)]['top']='0',document['getElementById'](_0x1b6fa2(0x119))['addEventListener'](_0x1b6fa2(0xc9),zoomIn),document['getElementById'](_0x1b6fa2(0x86))[_0x1b6fa2(0xca)](_0x1b6fa2(0xc9),zoomOut),document['getElementById'](_0x1b6fa2(0xdb))[_0x1b6fa2(0xca)](_0x1b6fa2(0xc9),togglePanMode),canvasContainer[_0x1b6fa2(0xca)](_0x1b6fa2(0x80),handleContainerMouseDown),canvasContainer[_0x1b6fa2(0xca)](_0x1b6fa2(0x9d),handleContainerTouchStart,{'passive':![]}),canvasContainer[_0x1b6fa2(0xca)](_0x1b6fa2(0xd8),centerCanvas),centerCanvas();}function centerCanvas(){const _0x5a7feb=_0x5904a3,_0x1ad7d9=canvasContainer['getBoundingClientRect']();zoomFactor>0x1?(canvasOffsetX=(_0x1ad7d9[_0x5a7feb(0xcf)]-canvas[_0x5a7feb(0xcf)]*zoomFactor)/0x2,canvasOffsetY=(_0x1ad7d9[_0x5a7feb(0xa0)]-canvas[_0x5a7feb(0xa0)]*zoomFactor)/0x2):(canvasOffsetX=0x0,canvasOffsetY=0x0),updateCanvasPosition();}function togglePanMode(){const _0x3f97a4=_0x5904a3;panMode=!panMode;const _0xa1a4c5=document[_0x3f97a4(0x111)](_0x3f97a4(0xdb));_0xa1a4c5[_0x3f97a4(0xa8)][_0x3f97a4(0x104)]('active',panMode);if(panMode)document[_0x3f97a4(0xdf)](_0x3f97a4(0x109))['forEach'](_0x5dc5f9=>{const _0x54f7ed=_0x3f97a4;if(_0x5dc5f9!==_0xa1a4c5)_0x5dc5f9[_0x54f7ed(0xa8)][_0x54f7ed(0xaa)](_0x54f7ed(0x95));});else{const _0x4feda9=document[_0x3f97a4(0xea)]('#btn-'+shapeMode);if(_0x4feda9)_0x4feda9[_0x3f97a4(0xa8)][_0x3f97a4(0xd7)](_0x3f97a4(0x95));}}function _0x28dd(){const _0x72d1bf=['mouseup','min','pop','cos','none','style','clientX','download','67566clBtgg','substr','lineWidth','push','max','floor','forEach','createIcons','button','controls','width=device-width,\x20initial-scale=1.0,\x20maximum-scale=1.0,\x20user-scalable=no','mouseleave','<i\x20data-lucide=\x22chevron-up\x22></i>','beginPath','top','currentColor','brushSliderToggle','init','round','image/png','click','addEventListener','getImageData','7194432yMDgXD','bold\x2048px\x20sans-serif','lineCap','width','href','head','btn-eraser','px)\x20scale(','#000000','9643068xkHxgA','background','add','dblclick','left','getContext','btn-pan','touchend','100%','1552036dKiQGf','querySelectorAll','mousemove','changedTouches','backgroundColor','brushPreview','#888','<i\x20data-lucide=\x22chevron-down\x22></i>','clearRect','touchmove','length','type','querySelector','fillText','preventDefault','stroke','getBoundingClientRect','0\x200','lucide','collapsed','toggleToolbar','1079160KkqrqS','btn-','lineTo','hidden','body','line','5036844ZlKZzx','div','textAlign','relative','quadraticCurveTo','setBrushSize','394768gEieVh','position','strokeStyle','putImageData','load','toggle','brushSliderContainer','insertBefore','touchAction','createElement','.tool-btn','value','abs','textBaseline','clientY','81jgpitJ','btn-guides','drawCanvas','getElementById','lineJoin','toDataURL','#ffffff','curve','moveTo','restore','save','btn-zoom-in','font','shift','canvas-container','fill','mousedown','end','brushSlider','hypot','setLineDash','previewCanvas','btn-zoom-out','canvas','#bbb','onload','cancelable','drawImage','black','fillStyle','strokeRect','translate','touchcancel','white','content','transformOrigin','touches','active','setColor','parentNode','circle','freehand','105FcecNX','center','input','touchstart','fillIndicator','Made\x20with\x20:\x20mandala-art-app.com','height','src','removeEventListener','colorPicker','arc','sin','px,\x20','absolute','classList','appendChild','remove','show','data'];_0x28dd=function(){return _0x72d1bf;};return _0x28dd();}function zoomIn(){const _0xa5537e=_0x5904a3,_0x36d8fe=zoomFactor;zoomFactor=Math[_0xa5537e(0xae)](zoomFactor*1.2,0x4);const _0x5c57ac=canvasContainer['getBoundingClientRect'](),_0x74378=_0x5c57ac[_0xa5537e(0xcf)]/0x2,_0x4a856e=_0x5c57ac[_0xa5537e(0xa0)]/0x2;canvasOffsetX=_0x74378-(_0x74378-canvasOffsetX)*(zoomFactor/_0x36d8fe),canvasOffsetY=_0x4a856e-(_0x4a856e-canvasOffsetY)*(zoomFactor/_0x36d8fe),updateCanvasPosition();}function zoomOut(){const _0x16bc7f=_0x5904a3,_0x460c0f=zoomFactor;zoomFactor=Math[_0x16bc7f(0xb9)](zoomFactor/1.2,0x1);const _0x31077f=canvasContainer['getBoundingClientRect'](),_0x350e4f=_0x31077f['width']/0x2,_0x15c25b=_0x31077f[_0x16bc7f(0xa0)]/0x2;zoomFactor===0x1?(canvasOffsetX=0x0,canvasOffsetY=0x0):(canvasOffsetX=_0x350e4f-(_0x350e4f-canvasOffsetX)*(zoomFactor/_0x460c0f),canvasOffsetY=_0x15c25b-(_0x15c25b-canvasOffsetY)*(zoomFactor/_0x460c0f)),updateCanvasPosition();}function updateCanvasPosition(){const _0x5f0451=_0x5904a3;canvas[_0x5f0451(0xb2)]['transform']='translate('+canvasOffsetX+_0x5f0451(0xa6)+canvasOffsetY+_0x5f0451(0xd3)+zoomFactor+')',previewCanvas['style']['transform']='translate('+canvasOffsetX+_0x5f0451(0xa6)+canvasOffsetY+'px)\x20scale('+zoomFactor+')',canvas[_0x5f0451(0xb2)][_0x5f0451(0x93)]=_0x5f0451(0xef),previewCanvas[_0x5f0451(0xb2)][_0x5f0451(0x93)]=_0x5f0451(0xef);}function handleContainerMouseDown(_0x4bf5c7){const _0x339f36=_0x5904a3;if(!panMode||_0x4bf5c7[_0x339f36(0xbd)]!==0x0)return;isPanning=!![],panStartX=_0x4bf5c7[_0x339f36(0xb3)]-canvasOffsetX,panStartY=_0x4bf5c7['clientY']-canvasOffsetY,document[_0x339f36(0xca)](_0x339f36(0xe0),handlePan),document[_0x339f36(0xca)]('mouseup',stopPan);}function handleContainerTouchStart(_0xbd6470){const _0x50a32e=_0x5904a3;if(_0xbd6470[_0x50a32e(0x94)][_0x50a32e(0xe8)]===0x1){if(!panMode)return;isPanning=!![],panStartX=_0xbd6470[_0x50a32e(0x94)][0x0][_0x50a32e(0xb3)]-canvasOffsetX,panStartY=_0xbd6470[_0x50a32e(0x94)][0x0][_0x50a32e(0x10d)]-canvasOffsetY,_0xbd6470[_0x50a32e(0xec)](),document[_0x50a32e(0xca)](_0x50a32e(0xe7),handlePan,{'passive':![]}),document[_0x50a32e(0xca)](_0x50a32e(0xdc),stopPan);}else _0xbd6470['touches'][_0x50a32e(0xe8)]===0x2&&handlePinchStart(_0xbd6470);}function handlePan(_0x4dc6ab){const _0x5c5550=_0x5904a3;if(!isPanning)return;let _0x1ca871,_0x43fe95;if(_0x4dc6ab[_0x5c5550(0xe9)]===_0x5c5550(0xe0))_0x1ca871=_0x4dc6ab['clientX'],_0x43fe95=_0x4dc6ab['clientY'];else{if(_0x4dc6ab[_0x5c5550(0xe9)]===_0x5c5550(0xe7)&&_0x4dc6ab[_0x5c5550(0x94)][_0x5c5550(0xe8)]===0x1)_0x1ca871=_0x4dc6ab[_0x5c5550(0x94)][0x0][_0x5c5550(0xb3)],_0x43fe95=_0x4dc6ab['touches'][0x0][_0x5c5550(0x10d)];else return;}canvasOffsetX=_0x1ca871-panStartX,canvasOffsetY=_0x43fe95-panStartY,_0x4dc6ab['preventDefault'](),updateCanvasPosition();}function stopPan(){const _0x2a2c5c=_0x5904a3;isPanning=![],document[_0x2a2c5c(0xa2)](_0x2a2c5c(0xe0),handlePan),document['removeEventListener'](_0x2a2c5c(0xad),stopPan),document['removeEventListener'](_0x2a2c5c(0xe7),handlePan),document[_0x2a2c5c(0xa2)](_0x2a2c5c(0xdc),stopPan);}let initialPinchDistance=0x0,initialZoomFactor=0x1;function handlePinchStart(_0x9ed2cb){const _0x3a63aa=_0x5904a3;if(_0x9ed2cb['touches'][_0x3a63aa(0xe8)]!==0x2)return;_0x9ed2cb[_0x3a63aa(0xec)]();const _0x4e0cc8=_0x9ed2cb['touches'][0x0],_0x4abc38=_0x9ed2cb[_0x3a63aa(0x94)][0x1];initialPinchDistance=Math['hypot'](_0x4abc38[_0x3a63aa(0xb3)]-_0x4e0cc8[_0x3a63aa(0xb3)],_0x4abc38[_0x3a63aa(0x10d)]-_0x4e0cc8[_0x3a63aa(0x10d)]),initialZoomFactor=zoomFactor,document[_0x3a63aa(0xca)](_0x3a63aa(0xe7),handlePinchMove,{'passive':![]}),document[_0x3a63aa(0xca)](_0x3a63aa(0xdc),stopPinch);}function handlePinchMove(_0xcd42f9){const _0x3c1760=_0x5904a3;if(_0xcd42f9[_0x3c1760(0x94)][_0x3c1760(0xe8)]!==0x2)return;_0xcd42f9[_0x3c1760(0xec)]();const _0x39dacf=_0xcd42f9[_0x3c1760(0x94)][0x0],_0xd1c74f=_0xcd42f9['touches'][0x1],_0x81e2b3=Math[_0x3c1760(0x83)](_0xd1c74f[_0x3c1760(0xb3)]-_0x39dacf[_0x3c1760(0xb3)],_0xd1c74f[_0x3c1760(0x10d)]-_0x39dacf[_0x3c1760(0x10d)]);zoomFactor=Math[_0x3c1760(0xae)](Math[_0x3c1760(0xb9)](initialZoomFactor*(_0x81e2b3/ initialPinchDistance),0x1),0x4);const _0x2b2e54=(_0x39dacf[_0x3c1760(0xb3)]+_0xd1c74f['clientX'])/0x2,_0x1cf9db=(_0x39dacf[_0x3c1760(0x10d)]+_0xd1c74f[_0x3c1760(0x10d)])/0x2,_0x5b66c2=canvasContainer['getBoundingClientRect'](),_0x2059d5=_0x2b2e54-_0x5b66c2['left'],_0x5e8d1b=_0x1cf9db-_0x5b66c2[_0x3c1760(0xc3)];canvasOffsetX=_0x2059d5-(_0x2059d5-canvasOffsetX)*(zoomFactor/ initialZoomFactor),canvasOffsetY=_0x5e8d1b-(_0x5e8d1b-canvasOffsetY)*(zoomFactor/ initialZoomFactor),updateCanvasPosition();}function stopPinch(){const _0x253295=_0x5904a3;document[_0x253295(0xa2)](_0x253295(0xe7),handlePinchMove),document['removeEventListener'](_0x253295(0xdc),stopPinch);}