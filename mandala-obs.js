const _0x557f3d=_0x17db;(function(_0xf23930,_0x3eb650){const _0x493d1c=_0x17db,_0x169208=_0xf23930();while(!![]){try{const _0x2a41b4=parseInt(_0x493d1c(0x216))/0x1*(-parseInt(_0x493d1c(0x223))/0x2)+parseInt(_0x493d1c(0x1d2))/0x3+parseInt(_0x493d1c(0x1fb))/0x4*(-parseInt(_0x493d1c(0x206))/0x5)+-parseInt(_0x493d1c(0x1ed))/0x6+parseInt(_0x493d1c(0x200))/0x7*(parseInt(_0x493d1c(0x1f5))/0x8)+parseInt(_0x493d1c(0x21b))/0x9+-parseInt(_0x493d1c(0x203))/0xa;if(_0x2a41b4===_0x3eb650)break;else _0x169208['push'](_0x169208['shift']());}catch(_0x1944a8){_0x169208['push'](_0x169208['shift']());}}}(_0x3cd5,0xad491));let color=_0x557f3d(0x21f),brushSize=0x10,shapeMode='freehand',radian=0xc,canvas,ctx,previewCanvas,previewCtx,history=[],redoHistory=[],lastSaved=0x0,isDrawing=![],startX,startY,isEraserMode=![],guidesVisible=!![],curvePoints=[],isCurving=![],firstPointMarker=null,secondPointMarker=null;document['body'][_0x557f3d(0x22a)](_0x557f3d(0x229),function(){},{'passive':![]}),window[_0x557f3d(0x22a)](_0x557f3d(0x1d9),()=>{const _0x18d900=_0x557f3d;canvas=document[_0x18d900(0x211)](_0x18d900(0x1c6)),ctx=canvas[_0x18d900(0x221)]('2d'),previewCanvas=document[_0x18d900(0x211)](_0x18d900(0x222)),previewCtx=previewCanvas[_0x18d900(0x221)]('2d'),ctx[_0x18d900(0x204)]=previewCtx[_0x18d900(0x204)]=_0x18d900(0x1d6),ctx['lineCap']=previewCtx[_0x18d900(0x1e1)]=_0x18d900(0x1d6);window['lucide']&&typeof lucide['createIcons']===_0x18d900(0x214)&&lucide['createIcons']();drawGuides(),canvas[_0x18d900(0x22a)](_0x18d900(0x228),handleStart),canvas[_0x18d900(0x22a)]('mousemove',handleMove),canvas['addEventListener'](_0x18d900(0x1c4),handleEnd),canvas['addEventListener'](_0x18d900(0x220),handleEnd),canvas[_0x18d900(0x22a)](_0x18d900(0x229),handleStart,{'passive':![]}),canvas[_0x18d900(0x22a)](_0x18d900(0x1c3),handleMove,{'passive':![]}),canvas['addEventListener'](_0x18d900(0x1f7),handleEnd),canvas[_0x18d900(0x22a)](_0x18d900(0x1c8),handleEnd),SmoothDraw[_0x18d900(0x226)](canvas,ctx),SmoothDraw['setColor'](color),SmoothDraw[_0x18d900(0x1ee)](brushSize),FloodFillTool[_0x18d900(0x226)](canvas,ctx,hexToRgba(color)),FloodFillTool['setColor'](hexToRgba(color));const _0x24139b=document[_0x18d900(0x211)](_0x18d900(0x1e8)),_0x2c80ad=document[_0x18d900(0x211)](_0x18d900(0x1fc)),_0x228198=document[_0x18d900(0x211)](_0x18d900(0x1f8));_0x24139b[_0x18d900(0x22a)](_0x18d900(0x219),()=>{const _0x3609c6=_0x18d900;brushSize=parseInt(_0x24139b[_0x3609c6(0x224)]),SmoothDraw[_0x3609c6(0x1ee)](brushSize),_0x2c80ad[_0x3609c6(0x1c9)][_0x3609c6(0x202)]=brushSize+'px',_0x2c80ad[_0x3609c6(0x1c9)][_0x3609c6(0x1f9)]=brushSize+'px';}),_0x228198[_0x18d900(0x22a)](_0x18d900(0x233),()=>{const _0x9e61a6=_0x18d900,_0x441b31=document['getElementById'](_0x9e61a6(0x1de));_0x441b31[_0x9e61a6(0x20b)][_0x9e61a6(0x217)]('active');});const _0x4ec51e=document[_0x18d900(0x211)]('colorPicker'),_0x397c0d=document['getElementById'](_0x18d900(0x201));_0x4ec51e['value']=color,_0x397c0d['style'][_0x18d900(0x1c0)]=color,_0x24139b[_0x18d900(0x224)]=brushSize,_0x2c80ad[_0x18d900(0x1c9)][_0x18d900(0x202)]=brushSize+'px',_0x2c80ad[_0x18d900(0x1c9)][_0x18d900(0x1f9)]=brushSize+'px',_0x2c80ad['style'][_0x18d900(0x1bf)]=color,setShape(_0x18d900(0x20f)),resetCanvas();});function getCoords(_0x1cd0c1){const _0x137328=_0x557f3d,_0x240dd6=canvas[_0x137328(0x1ca)](),_0x3ccc2b=canvas['width']/_0x240dd6['width'],_0xfddb45=canvas[_0x137328(0x1f9)]/_0x240dd6[_0x137328(0x1f9)];let _0x4ebd03,_0xcba750;if(_0x1cd0c1[_0x137328(0x1cc)]){const _0x1b3eaa=_0x1cd0c1[_0x137328(0x1cc)][0x0]||_0x1cd0c1[_0x137328(0x1fd)][0x0];_0x4ebd03=_0x1b3eaa[_0x137328(0x1db)],_0xcba750=_0x1b3eaa[_0x137328(0x1f0)];}else _0x4ebd03=_0x1cd0c1[_0x137328(0x1db)],_0xcba750=_0x1cd0c1[_0x137328(0x1f0)];return[(_0x4ebd03-_0x240dd6['left'])*_0x3ccc2b,(_0xcba750-_0x240dd6['top'])*_0xfddb45];}function handleStart(_0x50eed2){const _0x2be983=_0x557f3d;_0x50eed2['preventDefault']();const _0x4966a8=getCoords(_0x50eed2),_0x110008=_0x4966a8[0x0],_0x34c3f5=_0x4966a8[0x1];if(shapeMode===_0x2be983(0x1e4)){if(curvePoints[_0x2be983(0x232)]===0x0)curvePoints['push']([_0x110008,_0x34c3f5]),firstPointMarker={'x':_0x110008,'y':_0x34c3f5},drawFirstPointMarker(),isDrawing=!![];else{if(curvePoints[_0x2be983(0x232)]===0x1)curvePoints['push']([_0x110008,_0x34c3f5]),secondPointMarker={'x':_0x110008,'y':_0x34c3f5},isCurving=!![],previewCtx[_0x2be983(0x1f4)](0x0,0x0,previewCanvas[_0x2be983(0x202)],previewCanvas['height']),drawPreviewShape(curvePoints[0x0][0x0],curvePoints[0x0][0x1],_0x110008,_0x34c3f5,_0x2be983(0x212));else isCurving&&(isDrawing=!![]);}}else{isDrawing=!![],startX=_0x110008,startY=_0x34c3f5;if(shapeMode===_0x2be983(0x20f))saveState(!![]);}}function handleMove(_0xe7f401){const _0x4d346e=_0x557f3d;if(!isDrawing&&!isCurving)return;_0xe7f401[_0x4d346e(0x21a)]();const _0x16b1f9=getCoords(_0xe7f401),_0x51c73a=_0x16b1f9[0x0],_0x4e036d=_0x16b1f9[0x1];previewCtx[_0x4d346e(0x1f4)](0x0,0x0,previewCanvas[_0x4d346e(0x202)],previewCanvas[_0x4d346e(0x1f9)]),drawGuides();if(shapeMode==='curve')drawFirstPointMarker(),drawSecondPointMarker(),isCurving&&curvePoints[_0x4d346e(0x232)]===0x2&&drawPreviewCurve(curvePoints[0x0],curvePoints[0x1],[_0x51c73a,_0x4e036d]);else{if(shapeMode===_0x4d346e(0x20f))SmoothDraw['move'](_0xe7f401);else{if(shapeMode===_0x4d346e(0x212))drawPreviewShape(startX,startY,_0x51c73a,_0x4e036d,_0x4d346e(0x212));else shapeMode==='circle'&&drawPreviewShape(startX,startY,_0x51c73a,_0x4e036d,_0x4d346e(0x22e));}}}function handleEnd(_0x5ec55f){const _0x1309d4=_0x557f3d;if(!isDrawing)return;isDrawing=![];const _0x2e0e66=getCoords(_0x5ec55f),_0x46db79=_0x2e0e66[0x0],_0x22139b=_0x2e0e66[0x1];previewCtx[_0x1309d4(0x1f4)](0x0,0x0,previewCanvas[_0x1309d4(0x202)],previewCanvas[_0x1309d4(0x1f9)]),drawGuides();if(shapeMode===_0x1309d4(0x1e4)&&isCurving&&curvePoints[_0x1309d4(0x232)]===0x2)drawCurveShape(curvePoints[0x0],curvePoints[0x1],[_0x46db79,_0x22139b]),curvePoints=[],isCurving=![],firstPointMarker=null,secondPointMarker=null,saveState(!![]);else{if(shapeMode==='freehand')SmoothDraw['end'](_0x5ec55f);else{if(shapeMode===_0x1309d4(0x212))drawShape(startX,startY,_0x46db79,_0x22139b,_0x1309d4(0x212)),saveState(!![]);else shapeMode===_0x1309d4(0x22e)&&(drawShape(startX,startY,_0x46db79,_0x22139b,_0x1309d4(0x22e)),saveState(!![]));}}}function drawShape(_0x3d61ee,_0x3db85b,_0x263b24,_0x3f9173,_0x77d0dd){const _0x30816e=_0x557f3d,_0x25301f=canvas['width']/0x2,_0xac5bfc=canvas[_0x30816e(0x1f9)]/0x2,_0x384bac=0x2*Math['PI']/radian;ctx['strokeStyle']=color,ctx[_0x30816e(0x238)]=brushSize,ctx['lineCap']='round',ctx['lineJoin']=_0x30816e(0x1d6);for(let _0x17dc4e=0x0;_0x17dc4e<radian;_0x17dc4e++){const _0x3e69a2=_0x17dc4e*_0x384bac,[_0x512cfd,_0x4141bb]=rotatePoint(_0x3d61ee,_0x3db85b,_0x25301f,_0xac5bfc,_0x3e69a2),[_0x3cf8a0,_0x467bab]=rotatePoint(_0x263b24,_0x3f9173,_0x25301f,_0xac5bfc,_0x3e69a2);ctx[_0x30816e(0x235)]();if(_0x77d0dd===_0x30816e(0x212))ctx[_0x30816e(0x1c2)](_0x512cfd,_0x4141bb),ctx[_0x30816e(0x21c)](_0x3cf8a0,_0x467bab),ctx[_0x30816e(0x1d0)]();else{if(_0x77d0dd===_0x30816e(0x22e)){const _0x16030e=Math['hypot'](_0x3cf8a0-_0x512cfd,_0x467bab-_0x4141bb);ctx[_0x30816e(0x237)](_0x512cfd,_0x4141bb,_0x16030e,0x0,0x2*Math['PI']),ctx['stroke']();}}}}function _0x3cd5(){const _0x29579f=['mouseup','show','drawCanvas','toDataURL','touchcancel','style','getBoundingClientRect','min','touches','link','atan2','setColor','stroke','colorPicker','3305679CENvxx','fillIndicator','setLineDash','active','round','fillRect','#999','load','quadraticCurveTo','clientX','toggleToolbar','fillText','brushSliderContainer','save','collapsed','lineCap','restore','sin','curve','remove','cos','createElement','brushSlider','contains','.tool-btn','querySelectorAll','controls','1227636tqGUXI','setBrushSize','now','clientY','onload','hypot','<i\x20data-lucide=\x22chevron-up\x22></i>','clearRect','10633256XHxAWi','#ffffff','touchend','brushSliderToggle','height','white','1387564ZvzHeB','brushPreview','changedTouches','getImageData','pop','7cBlmKl','currentColor','width','9695760SXdGbR','lineJoin','floor','5GImOTv','hidden','fill','strokeStyle','shift','classList','image/png','textAlign','canvas','freehand','sqrt','getElementById','line','bold\x2048px\x20sans-serif','function','drawImage','9MfFYUe','toggle','src','input','preventDefault','1413576RileCL','lineTo','createIcons','btn-','#c80000','mouseleave','getContext','previewCanvas','79392cqeDHK','value','push','init','<i\x20data-lucide=\x22chevron-down\x22></i>','mousedown','touchstart','addEventListener','data','forEach','lucide','circle','btn-eraser','substr','Mandala\x20Art','length','click','#aaa','beginPath','font','arc','lineWidth','add','fillStyle','backgroundColor','background','mandala-square.png','moveTo','touchmove'];_0x3cd5=function(){return _0x29579f;};return _0x3cd5();}function drawPreviewShape(_0x1b1978,_0x1add22,_0x2409b0,_0x368b0b,_0xd2b90f){const _0x25bcd6=_0x557f3d,_0x33931a=canvas[_0x25bcd6(0x202)]/0x2,_0x335794=canvas[_0x25bcd6(0x1f9)]/0x2,_0x3ffe79=0x2*Math['PI']/radian;previewCtx[_0x25bcd6(0x209)]=color,previewCtx[_0x25bcd6(0x238)]=brushSize,previewCtx['lineCap']='round',previewCtx[_0x25bcd6(0x204)]=_0x25bcd6(0x1d6);for(let _0x1d8cf1=0x0;_0x1d8cf1<radian;_0x1d8cf1++){const _0x2fa7ab=_0x1d8cf1*_0x3ffe79,[_0x50fee6,_0x2c49b5]=rotatePoint(_0x1b1978,_0x1add22,_0x33931a,_0x335794,_0x2fa7ab),[_0x5ed3a8,_0x59697f]=rotatePoint(_0x2409b0,_0x368b0b,_0x33931a,_0x335794,_0x2fa7ab);previewCtx[_0x25bcd6(0x235)]();if(_0xd2b90f===_0x25bcd6(0x212))previewCtx[_0x25bcd6(0x1c2)](_0x50fee6,_0x2c49b5),previewCtx[_0x25bcd6(0x21c)](_0x5ed3a8,_0x59697f),previewCtx['stroke']();else{if(_0xd2b90f===_0x25bcd6(0x22e)){const _0x42acbc=Math[_0x25bcd6(0x1f2)](_0x5ed3a8-_0x50fee6,_0x59697f-_0x2c49b5);previewCtx[_0x25bcd6(0x237)](_0x50fee6,_0x2c49b5,_0x42acbc,0x0,0x2*Math['PI']),previewCtx[_0x25bcd6(0x1d0)]();}}}}function _0x17db(_0x18e3d9,_0x4c1b3e){const _0x3cd515=_0x3cd5();return _0x17db=function(_0x17db40,_0x14f244){_0x17db40=_0x17db40-0x1bd;let _0x259577=_0x3cd515[_0x17db40];return _0x259577;},_0x17db(_0x18e3d9,_0x4c1b3e);}const SmoothDraw=((()=>{let _0x114942,_0x26cf5f,_0x553327='#000000',_0xe36af1=0x8,_0x5c58c8=[];function _0x371c9e(_0x3d0fd8,_0x36d140){_0x114942=_0x3d0fd8,_0x26cf5f=_0x36d140;}function _0x59130d(_0x436db1){_0x553327=_0x436db1;}function _0x49dc7d(_0x2dee73){_0xe36af1=_0x2dee73;}function _0x4d8912(_0xd32572){const _0x3fc1f3=_0x17db;if(shapeMode!==_0x3fc1f3(0x20f))return;_0xd32572[_0x3fc1f3(0x21a)](),_0x5c58c8=[getCoords(_0xd32572)],saveState(!![]);}function _0xcd3f74(_0x2b5595){const _0x38451b=_0x17db;if(shapeMode!==_0x38451b(0x20f))return;_0x2b5595[_0x38451b(0x21a)]();const _0x3db0f=getCoords(_0x2b5595);_0x5c58c8['push'](_0x3db0f);if(_0x5c58c8[_0x38451b(0x232)]>=0x3){const _0x2c656b=_0x3f3c50(_0x5c58c8[0x0],_0x5c58c8[0x1]),_0x3570db=_0x3f3c50(_0x5c58c8[0x1],_0x5c58c8[0x2]);_0x51e209(_0x2c656b,_0x3570db,_0x5c58c8[0x1]),_0x5c58c8['shift']();}}function _0x471ca1(_0x33b5d1){const _0x31f863=_0x17db;if(shapeMode===_0x31f863(0x20f)&&_0x5c58c8[_0x31f863(0x232)]>0x1){const _0x680431=_0x5c58c8[_0x5c58c8[_0x31f863(0x232)]-0x1];_0x51e209(_0x5c58c8[0x0],_0x680431,_0x5c58c8[0x1]||_0x5c58c8[0x0]);}_0x5c58c8=[];}function _0x51e209(_0xfdefcb,_0x494a06,_0x106b39){const _0x31fc36=_0x17db,_0x3e2a72=getSymmetryPoints(_0xfdefcb[0x0],_0xfdefcb[0x1]),_0x1bd12a=getSymmetryPoints(_0x106b39[0x0],_0x106b39[0x1]),_0x383403=getSymmetryPoints(_0x494a06[0x0],_0x494a06[0x1]);_0x26cf5f[_0x31fc36(0x209)]=_0x553327,_0x26cf5f['lineWidth']=_0xe36af1,_0x26cf5f[_0x31fc36(0x1e1)]=_0x31fc36(0x1d6),_0x26cf5f[_0x31fc36(0x204)]=_0x31fc36(0x1d6);for(let _0x51d8b2=0x0;_0x51d8b2<_0x3e2a72[_0x31fc36(0x232)];_0x51d8b2++){_0x26cf5f[_0x31fc36(0x235)](),_0x26cf5f[_0x31fc36(0x1c2)](_0x3e2a72[_0x51d8b2][0x0],_0x3e2a72[_0x51d8b2][0x1]),_0x26cf5f[_0x31fc36(0x1da)](_0x1bd12a[_0x51d8b2][0x0],_0x1bd12a[_0x51d8b2][0x1],_0x383403[_0x51d8b2][0x0],_0x383403[_0x51d8b2][0x1]),_0x26cf5f[_0x31fc36(0x1d0)]();}}function _0x3f3c50(_0x5b1159,_0x5cef8a){return[(_0x5b1159[0x0]+_0x5cef8a[0x0])/0x2,(_0x5b1159[0x1]+_0x5cef8a[0x1])/0x2];}return{'init':_0x371c9e,'setColor':_0x59130d,'setBrushSize':_0x49dc7d,'start':_0x4d8912,'move':_0xcd3f74,'end':_0x471ca1};})());function drawPreviewCurve(_0x2ceb40,_0x190533,_0x275977){const _0x3936e8=_0x557f3d,_0x7651cd=canvas[_0x3936e8(0x202)]/0x2,_0x2a5eb3=canvas['height']/0x2,_0x2263f0=0x2*Math['PI']/radian;previewCtx[_0x3936e8(0x209)]=color,previewCtx[_0x3936e8(0x238)]=brushSize,previewCtx[_0x3936e8(0x1e1)]=_0x3936e8(0x1d6),previewCtx['lineJoin']=_0x3936e8(0x1d6);for(let _0x32b730=0x0;_0x32b730<radian;_0x32b730++){const _0x1efc68=_0x32b730*_0x2263f0,[_0x6cbb73,_0x3955c5]=rotatePoint(_0x2ceb40[0x0],_0x2ceb40[0x1],_0x7651cd,_0x2a5eb3,_0x1efc68),[_0x55585a,_0x4c45b1]=rotatePoint(_0x190533[0x0],_0x190533[0x1],_0x7651cd,_0x2a5eb3,_0x1efc68),[_0x47a8ef,_0x3d8b9a]=rotatePoint(_0x275977[0x0],_0x275977[0x1],_0x7651cd,_0x2a5eb3,_0x1efc68);previewCtx['beginPath'](),previewCtx[_0x3936e8(0x1c2)](_0x6cbb73,_0x3955c5),previewCtx[_0x3936e8(0x1da)](_0x47a8ef,_0x3d8b9a,_0x55585a,_0x4c45b1),previewCtx['stroke']();}}function drawCurveShape(_0x9cb8b1,_0x279edc,_0x283715){const _0x4e8538=_0x557f3d,_0xae2aa5=canvas[_0x4e8538(0x202)]/0x2,_0x158f0b=canvas['height']/0x2,_0x2aa63c=0x2*Math['PI']/radian;ctx[_0x4e8538(0x209)]=color,ctx[_0x4e8538(0x238)]=brushSize,ctx['lineCap']=_0x4e8538(0x1d6),ctx['lineJoin']=_0x4e8538(0x1d6);for(let _0x16095a=0x0;_0x16095a<radian;_0x16095a++){const _0x4d68b4=_0x16095a*_0x2aa63c,[_0x134363,_0x5b22e3]=rotatePoint(_0x9cb8b1[0x0],_0x9cb8b1[0x1],_0xae2aa5,_0x158f0b,_0x4d68b4),[_0x51b904,_0x3e901c]=rotatePoint(_0x279edc[0x0],_0x279edc[0x1],_0xae2aa5,_0x158f0b,_0x4d68b4),[_0x5c11ce,_0x4d14c7]=rotatePoint(_0x283715[0x0],_0x283715[0x1],_0xae2aa5,_0x158f0b,_0x4d68b4);ctx['beginPath'](),ctx['moveTo'](_0x134363,_0x5b22e3),ctx[_0x4e8538(0x1da)](_0x5c11ce,_0x4d14c7,_0x51b904,_0x3e901c),ctx['stroke']();}}function drawFirstPointMarker(){const _0x25516f=_0x557f3d;if(!firstPointMarker)return;const {x:_0x11a05b,y:_0x5d5d5c}=firstPointMarker,_0x26fa60=canvas[_0x25516f(0x202)]/0x2,_0x1552f9=canvas[_0x25516f(0x1f9)]/0x2,_0x358ef5=0x2*Math['PI']/radian;previewCtx['fillStyle']='#888';for(let _0x156b11=0x0;_0x156b11<radian;_0x156b11++){const _0x18469c=_0x156b11*_0x358ef5,[_0x4ad3e5,_0x4167b3]=rotatePoint(_0x11a05b,_0x5d5d5c,_0x26fa60,_0x1552f9,_0x18469c);previewCtx['beginPath'](),previewCtx[_0x25516f(0x237)](_0x4ad3e5,_0x4167b3,0x5,0x0,0x2*Math['PI']),previewCtx[_0x25516f(0x208)]();}}function drawSecondPointMarker(){const _0x3a06a9=_0x557f3d;if(!secondPointMarker)return;const {x:_0x31d98b,y:_0x2ee596}=secondPointMarker,_0x4ec473=canvas[_0x3a06a9(0x202)]/0x2,_0x30373e=canvas['height']/0x2,_0x356fa0=0x2*Math['PI']/radian;previewCtx[_0x3a06a9(0x1be)]='#888';for(let _0x3480a6=0x0;_0x3480a6<radian;_0x3480a6++){const _0x234979=_0x3480a6*_0x356fa0,[_0x4e4e5c,_0x396e70]=rotatePoint(_0x31d98b,_0x2ee596,_0x4ec473,_0x30373e,_0x234979);previewCtx[_0x3a06a9(0x235)](),previewCtx['arc'](_0x4e4e5c,_0x396e70,0x5,0x0,0x2*Math['PI']),previewCtx[_0x3a06a9(0x208)]();}}const colorPicker=document[_0x557f3d(0x211)](_0x557f3d(0x1d1)),currentColor=document['getElementById'](_0x557f3d(0x201)),brushPreview=document[_0x557f3d(0x211)](_0x557f3d(0x1fc));colorPicker['addEventListener']('input',()=>{const _0x316d8f=_0x557f3d;color=colorPicker[_0x316d8f(0x224)],currentColor[_0x316d8f(0x1c9)][_0x316d8f(0x1c0)]=color,brushPreview[_0x316d8f(0x1c9)][_0x316d8f(0x1bf)]=color,SmoothDraw[_0x316d8f(0x1cf)](color),FloodFillTool[_0x316d8f(0x1cf)](hexToRgba(color));});const FloodFillTool=((()=>{let _0x3f539e,_0x2761fb,_0x2e26c4=[0xff,0x0,0x0,0xff],_0x1661d9=0x40;function _0x5a9366(_0x442f13,_0x44f4d9,_0x20d43a=[0xff,0x0,0x0,0xff]){const _0xc90477=_0x17db;_0x3f539e=_0x442f13,_0x2761fb=_0x44f4d9,_0x2e26c4=_0x20d43a,_0x3f539e[_0xc90477(0x22a)](_0xc90477(0x233),_0x441b1a),_0x3f539e[_0xc90477(0x22a)](_0xc90477(0x229),_0x5cbf38=>{const _0x3b9129=_0xc90477;_0x5cbf38['preventDefault'](),_0x441b1a(_0x5cbf38[_0x3b9129(0x1cc)][0x0]);},{'passive':![]});}function _0x18554d(_0x5e5346){_0x2e26c4=_0x5e5346;}function _0x441b1a(_0x5c532d){const _0x4eca8d=_0x17db;if(shapeMode!==_0x4eca8d(0x208))return;_0x2fafd7(!![]),setTimeout(()=>{const _0x20e8e7=_0x4eca8d,[_0x2124d7,_0x215545]=getCoords(_0x5c532d),_0x3a86c4=_0x2761fb[_0x20e8e7(0x1fe)](0x0,0x0,_0x3f539e[_0x20e8e7(0x202)],_0x3f539e[_0x20e8e7(0x1f9)]),_0x592e38=_0x3f539e['width']/0x2,_0x17df1d=_0x3f539e[_0x20e8e7(0x1f9)]/0x2,_0xf7a154=0x2*Math['PI']/radian;for(let _0x505916=0x0;_0x505916<radian;_0x505916++){const _0x3b041e=_0x505916*_0xf7a154,[_0x21516a,_0x409ee7]=rotatePoint(_0x2124d7,_0x215545,_0x592e38,_0x17df1d,_0x3b041e),_0x290643=Math[_0x20e8e7(0x205)](_0x21516a),_0x562a9f=Math['floor'](_0x409ee7),_0x5239f6=_0x3b0426(_0x3a86c4,_0x290643,_0x562a9f);_0x51804b(_0x3a86c4,_0x290643,_0x562a9f,_0x5239f6);}_0x2761fb['putImageData'](_0x3a86c4,0x0,0x0),saveState(!![]),_0x2fafd7(![]);},0x32);}function _0x2fafd7(_0x3f1851){const _0x31aa49=_0x17db,_0x7f135f=document['getElementById'](_0x31aa49(0x1d3));if(!_0x7f135f)return;_0x3f1851?(_0x7f135f[_0x31aa49(0x20b)][_0x31aa49(0x1e5)](_0x31aa49(0x207)),_0x7f135f[_0x31aa49(0x20b)][_0x31aa49(0x1bd)](_0x31aa49(0x1c5))):(_0x7f135f[_0x31aa49(0x20b)][_0x31aa49(0x1e5)](_0x31aa49(0x1c5)),_0x7f135f['classList'][_0x31aa49(0x1bd)](_0x31aa49(0x207)));}function _0x51804b(_0x14c0e6,_0x1f267a,_0x8be6bf,_0x52cc68){const _0x2f84a8=_0x17db,_0x4d5a1e=[[_0x1f267a,_0x8be6bf]],_0x1873fa=_0x14c0e6[_0x2f84a8(0x202)],_0x29c85e=_0x14c0e6[_0x2f84a8(0x1f9)],_0x766acc=_0x14c0e6[_0x2f84a8(0x22b)],_0x45952e=new Uint8Array(_0x1873fa*_0x29c85e);function _0x2c70b9(_0x49edca,_0x5ea3ca){const _0x42d77a=(_0x5ea3ca*_0x1873fa+_0x49edca)*0x4,_0x37972c=[_0x766acc[_0x42d77a],_0x766acc[_0x42d77a+0x1],_0x766acc[_0x42d77a+0x2],_0x766acc[_0x42d77a+0x3]];return _0x511ee8(_0x37972c,_0x52cc68);}function _0x44fef7(_0x4fc231,_0x103ce9){const _0x347302=(_0x103ce9*_0x1873fa+_0x4fc231)*0x4;_0x766acc[_0x347302]=_0x2e26c4[0x0],_0x766acc[_0x347302+0x1]=_0x2e26c4[0x1],_0x766acc[_0x347302+0x2]=_0x2e26c4[0x2],_0x766acc[_0x347302+0x3]=_0x2e26c4[0x3];}while(_0x4d5a1e[_0x2f84a8(0x232)]){const [_0x4b82d1,_0x539e0b]=_0x4d5a1e[_0x2f84a8(0x1ff)]();if(_0x4b82d1<0x0||_0x539e0b<0x0||_0x4b82d1>=_0x1873fa||_0x539e0b>=_0x29c85e)continue;const _0x3fe7a2=_0x539e0b*_0x1873fa+_0x4b82d1;if(_0x45952e[_0x3fe7a2])continue;_0x45952e[_0x3fe7a2]=0x1;if(!_0x2c70b9(_0x4b82d1,_0x539e0b))continue;_0x44fef7(_0x4b82d1,_0x539e0b),_0x4d5a1e['push']([_0x4b82d1+0x1,_0x539e0b],[_0x4b82d1-0x1,_0x539e0b],[_0x4b82d1,_0x539e0b+0x1],[_0x4b82d1,_0x539e0b-0x1]);}}function _0x3b0426(_0x26e628,_0x8bc59f,_0x557a03){const _0x462845=_0x17db,_0x32efd9=Math[_0x462845(0x205)](_0x8bc59f),_0x198ca0=Math[_0x462845(0x205)](_0x557a03);if(_0x32efd9<0x0||_0x198ca0<0x0||_0x32efd9>=_0x26e628[_0x462845(0x202)]||_0x198ca0>=_0x26e628[_0x462845(0x1f9)])return[0x0,0x0,0x0,0x0];const _0x38d0a9=(_0x198ca0*_0x26e628[_0x462845(0x202)]+_0x32efd9)*0x4,_0x3b9d15=_0x26e628[_0x462845(0x22b)];return[_0x3b9d15[_0x38d0a9],_0x3b9d15[_0x38d0a9+0x1],_0x3b9d15[_0x38d0a9+0x2],_0x3b9d15[_0x38d0a9+0x3]];}function _0x511ee8(_0xf8dfe2,_0x14c702){const _0x398e2f=_0x17db,_0x505254=_0xf8dfe2[0x0]-_0x14c702[0x0],_0x41224d=_0xf8dfe2[0x1]-_0x14c702[0x1],_0x19049a=_0xf8dfe2[0x2]-_0x14c702[0x2],_0x58585d=_0xf8dfe2[0x3]-_0x14c702[0x3],_0x4230bf=Math[_0x398e2f(0x210)](_0x505254*_0x505254+_0x41224d*_0x41224d+_0x19049a*_0x19049a+_0x58585d*_0x58585d);return _0x4230bf<=_0x1661d9;}return{'init':_0x5a9366,'setColor':_0x18554d};})());function getSymmetryPoints(_0x13954a,_0x1c647a){const _0x369ad8=_0x557f3d,_0x4a2e11=canvas[_0x369ad8(0x202)]/0x2,_0x13f976=canvas['height']/0x2,_0xa5b574=_0x13954a-_0x4a2e11,_0x12d165=_0x13f976-_0x1c647a,_0x69ff4d=Math[_0x369ad8(0x1f2)](_0xa5b574,_0x12d165),_0x44ae1b=Math[_0x369ad8(0x1ce)](_0xa5b574,_0x12d165),_0x151e90=[];for(let _0x28eb2e=0x0;_0x28eb2e<radian;_0x28eb2e++){let _0x46b39c=_0x44ae1b+Math['PI']*0x2/radian*_0x28eb2e,_0x36c12b=_0x4a2e11+Math[_0x369ad8(0x1e3)](_0x46b39c)*_0x69ff4d,_0x4aafb4=_0x13f976-Math[_0x369ad8(0x1e6)](_0x46b39c)*_0x69ff4d;_0x151e90[_0x369ad8(0x225)]([_0x36c12b,_0x4aafb4]),_0x36c12b=_0x4a2e11-Math[_0x369ad8(0x1e3)](_0x46b39c)*_0x69ff4d,_0x151e90[_0x369ad8(0x225)]([_0x36c12b,_0x4aafb4]);}return _0x151e90;}function rotatePoint(_0x50a2d3,_0x3fff0f,_0x132f63,_0x52986a,_0x49cd89){const _0x8682e1=_0x557f3d,_0x2df2c6=_0x50a2d3-_0x132f63,_0x427a01=_0x3fff0f-_0x52986a,_0xe7b070=_0x132f63+_0x2df2c6*Math[_0x8682e1(0x1e6)](_0x49cd89)-_0x427a01*Math[_0x8682e1(0x1e3)](_0x49cd89),_0x53cdde=_0x52986a+_0x2df2c6*Math['sin'](_0x49cd89)+_0x427a01*Math[_0x8682e1(0x1e6)](_0x49cd89);return[_0xe7b070,_0x53cdde];}function hexToRgba(_0x155776){const _0x289f22=_0x557f3d,_0x1b98e0=parseInt(_0x155776[_0x289f22(0x230)](0x1,0x2),0x10),_0x423801=parseInt(_0x155776[_0x289f22(0x230)](0x3,0x2),0x10),_0x5abae8=parseInt(_0x155776['substr'](0x5,0x2),0x10);return[_0x1b98e0,_0x423801,_0x5abae8,0xff];}function setShape(_0x3e2cc7){const _0x445633=_0x557f3d;shapeMode=_0x3e2cc7,isEraserMode=![],curvePoints=[],isCurving=![],isDrawing=![],firstPointMarker=null,secondPointMarker=null,document['querySelectorAll'](_0x445633(0x1ea))[_0x445633(0x22c)](_0x296622=>_0x296622[_0x445633(0x20b)][_0x445633(0x1e5)](_0x445633(0x1d5)));const _0x51fe5f=document['getElementById'](_0x445633(0x21e)+_0x3e2cc7);if(_0x51fe5f)_0x51fe5f[_0x445633(0x20b)]['add'](_0x445633(0x1d5));updateBrushColor(color);}function saveState(_0x3da5ec=![]){const _0x40e6ad=_0x557f3d,_0xfa7fe6=Date[_0x40e6ad(0x1ef)]();if(!_0x3da5ec||_0xfa7fe6-lastSaved>0x32){history['push'](canvas[_0x40e6ad(0x1c7)]()),redoHistory=[];if(history[_0x40e6ad(0x232)]>0x32)history[_0x40e6ad(0x20a)]();lastSaved=_0xfa7fe6;}}function activateEraser(){const _0x12a2ea=_0x557f3d;setShape(_0x12a2ea(0x20f)),isEraserMode=!![],color=_0x12a2ea(0x1f6),updateBrushColor(color),document[_0x12a2ea(0x1eb)]('#shapeButtons\x20.tool-btn,\x20#btn-eraser')[_0x12a2ea(0x22c)](_0x410b48=>{const _0x36d522=_0x12a2ea;_0x410b48[_0x36d522(0x20b)]['remove'](_0x36d522(0x1d5));}),document[_0x12a2ea(0x211)](_0x12a2ea(0x22f))[_0x12a2ea(0x20b)][_0x12a2ea(0x1bd)](_0x12a2ea(0x1d5));}function updateBrushColor(_0x4dea43){const _0x25441e=_0x557f3d;!isEraserMode&&(color=_0x4dea43);if(SmoothDraw)SmoothDraw[_0x25441e(0x1cf)](_0x4dea43);if(FloodFillTool)FloodFillTool['setColor'](hexToRgba(_0x4dea43));const _0x34e6e7=document['getElementById']('colorPicker'),_0x50400e=document[_0x25441e(0x211)](_0x25441e(0x201)),_0x330265=document['getElementById'](_0x25441e(0x1fc));if(_0x34e6e7)_0x34e6e7['value']=_0x4dea43;if(_0x50400e)_0x50400e[_0x25441e(0x1c9)][_0x25441e(0x1bf)]=_0x4dea43;if(_0x330265)_0x330265[_0x25441e(0x1c9)]['backgroundColor']=_0x4dea43;}function setEraserMode(){const _0x135d8b=_0x557f3d;isEraserMode=!![],document[_0x135d8b(0x1eb)]('.tool-btn')[_0x135d8b(0x22c)](_0x3e7918=>_0x3e7918['classList']['remove'](_0x135d8b(0x1d5))),document[_0x135d8b(0x211)](_0x135d8b(0x22f))[_0x135d8b(0x20b)][_0x135d8b(0x1bd)](_0x135d8b(0x1d5)),updateBrushColor(_0x135d8b(0x1f6));}function updateBrushColor(_0x2d4094){const _0x52a0e8=_0x557f3d;if(SmoothDraw)SmoothDraw[_0x52a0e8(0x1cf)](_0x2d4094);if(FloodFillTool)FloodFillTool[_0x52a0e8(0x1cf)](hexToRgba(_0x2d4094));}function undo(){const _0x1be354=_0x557f3d;if(history[_0x1be354(0x232)]>0x1){const _0x1b8abe=history['pop']();redoHistory[_0x1be354(0x225)](_0x1b8abe);const _0x3986bb=new Image();_0x3986bb[_0x1be354(0x218)]=history[history[_0x1be354(0x232)]-0x1],_0x3986bb[_0x1be354(0x1f1)]=()=>{const _0x1516c2=_0x1be354;ctx['clearRect'](0x0,0x0,canvas[_0x1516c2(0x202)],canvas[_0x1516c2(0x1f9)]),ctx['drawImage'](_0x3986bb,0x0,0x0);};}else history[_0x1be354(0x232)]===0x1&&(redoHistory['push'](history[_0x1be354(0x1ff)]()),ctx['clearRect'](0x0,0x0,canvas['width'],canvas[_0x1be354(0x1f9)]));}function redo(){const _0x5ae580=_0x557f3d;if(redoHistory[_0x5ae580(0x232)]>0x0){const _0x555bdd=redoHistory[_0x5ae580(0x1ff)]();history[_0x5ae580(0x225)](_0x555bdd);const _0x5743c7=new Image();_0x5743c7[_0x5ae580(0x218)]=_0x555bdd,_0x5743c7[_0x5ae580(0x1f1)]=()=>{const _0x4bcb2b=_0x5ae580;ctx[_0x4bcb2b(0x1f4)](0x0,0x0,canvas[_0x4bcb2b(0x202)],canvas['height']),ctx['drawImage'](_0x5743c7,0x0,0x0);};}}function resetCanvas(){const _0x4bf303=_0x557f3d;ctx['clearRect'](0x0,0x0,canvas[_0x4bf303(0x202)],canvas['height']),previewCtx['clearRect'](0x0,0x0,previewCanvas[_0x4bf303(0x202)],previewCanvas[_0x4bf303(0x1f9)]),drawGuides(),history=[],redoHistory=[],saveState(!![]);}function downloadCanvas(){const _0x373053=_0x557f3d,_0x83de9e=document[_0x373053(0x211)]('drawCanvas'),_0x1308f9=document[_0x373053(0x1e7)](_0x373053(0x20e));_0x1308f9[_0x373053(0x202)]=0xbb8,_0x1308f9['height']=0xbb8;const _0x807bba=_0x1308f9[_0x373053(0x221)]('2d');_0x807bba[_0x373053(0x1be)]=_0x373053(0x1fa),_0x807bba[_0x373053(0x1d7)](0x0,0x0,_0x1308f9[_0x373053(0x202)],_0x1308f9['height']),_0x807bba[_0x373053(0x215)](_0x83de9e,0x0,0x0,_0x1308f9[_0x373053(0x202)],_0x1308f9[_0x373053(0x1f9)]),_0x807bba['fillStyle']=_0x373053(0x1d8),_0x807bba[_0x373053(0x236)]=_0x373053(0x213),_0x807bba[_0x373053(0x20d)]='right',_0x807bba[_0x373053(0x1dd)](_0x373053(0x231),_0x1308f9['width']-0x3c,_0x1308f9['height']-0x28);const _0x3e2c51=document['getElementById'](_0x373053(0x1cd));_0x3e2c51['href']=_0x1308f9[_0x373053(0x1c7)](_0x373053(0x20c)),_0x3e2c51['download']=_0x373053(0x1c1),_0x3e2c51[_0x373053(0x233)]();}function toggleGuides(){const _0x101811=_0x557f3d;guidesVisible=!guidesVisible,drawGuides();const _0x523278=document[_0x101811(0x211)]('btn-guides');_0x523278[_0x101811(0x20b)]['toggle'](_0x101811(0x1d5),guidesVisible);}function drawGuides(){const _0x183f60=_0x557f3d;if(!guidesVisible){previewCtx[_0x183f60(0x1f4)](0x0,0x0,previewCanvas[_0x183f60(0x202)],previewCanvas[_0x183f60(0x1f9)]);return;}const _0x20af76=previewCanvas[_0x183f60(0x202)],_0x4f29f4=previewCanvas[_0x183f60(0x1f9)],_0x129625=_0x20af76/0x2,_0x20e6d3=_0x4f29f4/0x2;previewCtx[_0x183f60(0x1f4)](0x0,0x0,_0x20af76,_0x4f29f4),previewCtx['strokeStyle']=_0x183f60(0x234),previewCtx['lineWidth']=0x2,previewCtx[_0x183f60(0x235)](),previewCtx[_0x183f60(0x1c2)](_0x129625,0x0),previewCtx[_0x183f60(0x21c)](_0x129625,_0x4f29f4),previewCtx[_0x183f60(0x1c2)](0x0,_0x20e6d3),previewCtx['lineTo'](_0x20af76,_0x20e6d3),previewCtx[_0x183f60(0x1d0)]();const _0x4cae93=[0x1e,0x3c],_0x139c22=Math['max'](_0x20af76,_0x4f29f4);previewCtx[_0x183f60(0x1df)](),previewCtx['translate'](_0x129625,_0x20e6d3),previewCtx[_0x183f60(0x209)]='#bbb',previewCtx[_0x183f60(0x238)]=0x1,_0x4cae93['forEach'](_0x35f1ea=>{const _0x4c34b9=_0x183f60,_0x40af90=_0x35f1ea*Math['PI']/0xb4;previewCtx['beginPath'](),previewCtx[_0x4c34b9(0x1c2)](-_0x139c22*Math[_0x4c34b9(0x1e6)](_0x40af90),-_0x139c22*Math[_0x4c34b9(0x1e3)](_0x40af90)),previewCtx[_0x4c34b9(0x21c)](_0x139c22*Math[_0x4c34b9(0x1e6)](_0x40af90),_0x139c22*Math['sin'](_0x40af90)),previewCtx['stroke'](),previewCtx['beginPath'](),previewCtx[_0x4c34b9(0x1c2)](-_0x139c22*Math[_0x4c34b9(0x1e6)](-_0x40af90),-_0x139c22*Math[_0x4c34b9(0x1e3)](-_0x40af90)),previewCtx[_0x4c34b9(0x21c)](_0x139c22*Math[_0x4c34b9(0x1e6)](-_0x40af90),_0x139c22*Math[_0x4c34b9(0x1e3)](-_0x40af90)),previewCtx[_0x4c34b9(0x1d0)]();}),previewCtx[_0x183f60(0x1e2)]();const _0x3ad19d=Math[_0x183f60(0x1cb)](_0x20af76,_0x4f29f4)*0.48;previewCtx[_0x183f60(0x1d4)]([0x5,0x5]),previewCtx[_0x183f60(0x235)](),previewCtx[_0x183f60(0x237)](_0x129625,_0x20e6d3,_0x3ad19d,0x0,Math['PI']*0x2),previewCtx[_0x183f60(0x1d0)](),previewCtx['setLineDash']([]);}const toggleBtn=document[_0x557f3d(0x211)](_0x557f3d(0x1dc)),controls=document[_0x557f3d(0x211)](_0x557f3d(0x1ec));toggleBtn[_0x557f3d(0x22a)](_0x557f3d(0x233),()=>{const _0x57fb09=_0x557f3d;controls[_0x57fb09(0x20b)]['toggle'](_0x57fb09(0x1e0));const _0x24b6e0=controls[_0x57fb09(0x20b)][_0x57fb09(0x1e9)](_0x57fb09(0x1e0));toggleBtn['innerHTML']=_0x24b6e0?_0x57fb09(0x1f3):_0x57fb09(0x227),window[_0x57fb09(0x22d)]&&typeof lucide[_0x57fb09(0x21d)]===_0x57fb09(0x214)&&lucide['createIcons']();});